<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet" />
    <title>Clientes</title>
</head>

<body>
    <div class="overlay" id="overlay"></div>
    <div class="form-container" id="form-container">
        <h2>Adicionar Cliente</h2>
        <form action="/cadastrar" method="post">
            <div class="form-group">
                <label for="nome">Nome:</label>
                <input type="text" id="nome" name="nome">
            </div>
            <div class="form-group">
                <label for="email">E-mail:</label>
                <input type="text" id="email" name="email">
            </div>
            <div class="form-group">
                <label for="cpf">CPF:</label>
                <input type="text" id="cpf" name="cpf">
            </div>
            <div class="form-group">
                <input type="submit" name="acao" value="Enviar">
            </div>
        </form>
    </div>

    <div class="form-container" id="update-form-container" style="display: none;">
        <h2>Atualizar Cliente</h2>
        <form id="update-form" method="post">
            <div class="form-group">
                <input type="hidden" id="update-id" name="id">
                <label for="update-nome">Nome:</label>
                <input type="text" id="update-nome" name="nome">
            </div>
            <div class="form-group">
                <label for="update-email">E-mail:</label>
                <input type="email" id="update-email" name="email">
            </div>
            <div class="form-group">
                <label for="update-cpf">CPF:</label>
                <input type="text" id="update-cpf" name="cpf">
            </div>
            <div class="form-group">
                <input type="submit" value="Atualizar">
            </div>
        </form>
    </div>

    <button class="fab" id="fab">+</button>
    <table>
        <caption class="table-caption">Lista de Clientes</caption>
        <thead>
            <tr>
                <th>Nome</th>
                <th>E-mail</th>
                <th>CPF</th>
                <th class="actions-header">Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for cliente in content %}
            <tr>
                <td>{{ cliente['nome'] }}</td>
                <td>{{ cliente['email'] }}</td>
                <td class="cpf">{{ cliente['cpf'] }}</td>
                <td class="actions">
                    <a href="#" class="update-link" data-id="{{ cliente['id'] }}" data-nome="{{ cliente['nome'] }}" data-email="{{ cliente['email'] }}" data-cpf="{{ cliente['cpf'] }}" title="Atualizar Cliente">
                        <img src="{{ url_for('static', filename='images/update-icon.png') }}" alt="Atualizar" width="20" height="20">
                    </a>
                    <a href="/deletar?id={{ cliente['id'] }}" title="Deletar Cliente">
                        <img src="{{ url_for('static', filename='images/delete-icon.png') }}" alt="Deletar" width="20" height="20">
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>
